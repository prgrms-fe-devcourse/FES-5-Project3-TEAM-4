import { useRef, type RefObject } from 'react';
import { DrawSVGPlugin } from 'gsap/DrawSVGPlugin';
import gsap from 'gsap';
import { useGSAP } from '@gsap/react';

gsap.registerPlugin(DrawSVGPlugin);

interface Props {
  parentTimeline: RefObject<gsap.core.Timeline | null>;
  label?: string;
}

function SecondQ2({ parentTimeline, label }: Props) {
  const svgRef = useRef<SVGSVGElement | null>(null);

  useGSAP(() => {
    if (!svgRef.current) return;
    if (!parentTimeline.current) return;
    // 모든 path를 선택
    const paths = svgRef.current.querySelectorAll('path');

    parentTimeline.current.fromTo(
      paths,
      { drawSVG: '0% 0%' },
      {
        duration: 10,
        stagger: 0.7,
        drawSVG: '0% 100%',
        ease: 'none',
      },
      label
    );
  }, []);

  return (
    <svg
      ref={svgRef}
      width="456"
      height="41"
      viewBox="0 0 456 41"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M23.68 7.92L26.16 10.92L21.6 24.04L18.4 23.12L22.24 11.72L7.8 14.68L7 11.28L23.68 7.92ZM0.0400002 30.84L32.64 28.4L32.8 31.64L0.2 34.4L0.0400002 30.84ZM64.6 23.56L61.64 23.44L62.92 3.24L66.88 3.4L66.32 8.24L73.36 6.32L74.36 9.48L65.92 11.8L65.56 15.16L74.4 13.88L74.76 17.12L65.16 18.56L64.6 23.56ZM58.2 19.8L44.08 25.12L42.08 10.04L45.96 9.32L47.16 20.32L57.04 16.72L58.2 19.8ZM60.2 25.6C61.24 25.44 62.2267 25.48 63.16 25.72C64.12 25.9333 64.96 26.2933 65.68 26.8C66.4 27.3067 66.96 27.92 67.36 28.64C67.7867 29.36 68 30.16 68 31.04C68 32.1867 67.7733 33.2267 67.32 34.16C66.8667 35.0933 66.28 35.9067 65.56 36.6C64.84 37.32 64.0267 37.8933 63.12 38.32C62.24 38.7467 61.36 39.0267 60.48 39.16C59.5467 39.2933 58.6667 39.24 57.84 39C57.04 38.7867 56.32 38.4533 55.68 38C55.04 37.5467 54.4933 37 54.04 36.36C53.5867 35.7467 53.28 35.0933 53.12 34.4C52.9067 33.52 52.92 32.6 53.16 31.64C53.4 30.68 53.8267 29.7867 54.44 28.96C55.08 28.1067 55.88 27.3867 56.84 26.8C57.8267 26.1867 58.9467 25.7867 60.2 25.6ZM60.36 35.96C60.8133 35.9067 61.28 35.76 61.76 35.52C62.24 35.28 62.68 34.96 63.08 34.56C63.48 34.1867 63.8133 33.7467 64.08 33.24C64.3467 32.7333 64.48 32.1867 64.48 31.6C64.48 31.0933 64.36 30.64 64.12 30.24C63.9067 29.84 63.6 29.52 63.2 29.28C62.8 29.04 62.3467 28.88 61.84 28.8C61.3333 28.72 60.8 28.72 60.24 28.8C59.5467 28.9333 58.9333 29.16 58.4 29.48C57.8933 29.7733 57.4667 30.1333 57.12 30.56C56.8 30.96 56.5733 31.4133 56.44 31.92C56.3333 32.4 56.3467 32.88 56.48 33.36C56.6933 34.1867 57.16 34.8533 57.88 35.36C58.6 35.8667 59.4267 36.0667 60.36 35.96ZM112.616 9.28L103.056 7.32L103.936 4L113.616 6.2L112.616 9.28ZM129.056 4.92L125.616 37.68L122.376 37.48L125.176 4.6L129.056 4.92ZM120.136 29.44L120.496 32.52L97.1356 35.6L96.6556 32.36L107.336 31.04L107.776 27.12C107.002 27.0667 106.282 26.8667 105.616 26.52C104.949 26.1733 104.416 25.72 104.016 25.16C103.482 24.4133 103.216 23.5733 103.216 22.64C103.242 21.68 103.562 20.72 104.176 19.76C104.789 18.7733 105.736 17.8133 107.016 16.88C108.296 15.9467 109.962 15.12 112.016 14.4L100.496 16.72L99.8556 13.52L115.136 10.76L116.136 14.84C113.976 16.04 112.229 17.0667 110.896 17.92C109.562 18.7733 108.549 19.52 107.856 20.16C107.189 20.7733 106.789 21.32 106.656 21.8C106.549 22.28 106.602 22.7467 106.816 23.2C107.002 23.6 107.269 23.88 107.616 24.04C107.962 24.2 108.322 24.2667 108.696 24.24C109.096 24.2133 109.482 24.1067 109.856 23.92C110.229 23.7333 110.522 23.4933 110.736 23.2C111.162 22.6133 111.376 21.9333 111.376 21.16C111.402 20.3867 111.029 19.6533 110.256 18.96L112.776 17.2C113.256 17.6533 113.629 18.1867 113.896 18.8C114.189 19.3867 114.376 20 114.456 20.64C114.536 21.28 114.496 21.9333 114.336 22.6C114.176 23.2667 113.882 23.8933 113.456 24.48C113.082 24.9867 112.682 25.4133 112.256 25.76C111.829 26.1067 111.389 26.3867 110.936 26.6L110.416 30.64L120.136 29.44ZM163.976 21.2L162.256 38.24L158.976 38L161.576 4.56L165.616 4.88L164.336 17.72L171.376 16.28L172.016 19.56L163.976 21.2ZM154.736 10L147.816 17.08L154.736 26.72L151.936 29L145.216 19.72L137.096 28L134.576 25.64L151.896 7.48L154.736 10ZM227.271 7.4L223.151 35.48L220.151 35.08L222.231 18.64L216.911 20.56L215.631 30.4L212.391 30.12L214.951 7.6L218.551 7.88L217.351 17.04L222.711 15.04L223.711 7.04L227.271 7.4ZM206.991 13.08L204.951 24.4L210.191 23.56L210.511 26.4L200.951 28.2L203.351 13.36L202.591 13.4L202.431 10.44L211.591 9.96L211.671 12.72L206.991 13.08ZM200.551 23.12L200.871 25.96L192.671 27.56L195.031 14.4L191.871 14.64L191.831 11.72L201.791 11.12L201.991 13.88L198.631 14.12L196.671 23.76L200.551 23.12ZM265.071 4.8L260.311 36.6L257.071 36.36L258.751 23L251.191 23.8L250.991 20.6L259.191 19.68L259.911 13.92L250.831 15.8L250.191 12.36L260.351 10.36L261.111 4.44L265.071 4.8ZM249.831 25.16L250.391 27.92L237.911 30.48L235.191 27.48L243.951 19.72L235.791 21.32L234.391 19.4L242.511 11.12L234.391 12.56L233.951 9.68L245.071 7.84L246.871 10.84L240.231 17.96L247.831 16.56L248.791 19.16L240.231 26.96L249.831 25.16ZM303.791 5.52L299.991 37.56L296.671 37.36L300.071 5.28L303.791 5.52ZM288.431 10.92L278.871 9.08L279.791 5.8L289.431 7.8L288.431 10.92ZM286.031 22L293.111 31.64L290.431 33.68L283.671 24.4L276.991 31.28L274.911 28.8L286.751 16.84L276.351 19.6L275.271 16.32L290.831 12.36L292.671 15.16L286.031 22ZM327.031 13.72C326.311 13.6667 325.645 13.4533 325.031 13.08C324.418 12.7067 323.885 12.24 323.431 11.68C322.978 11.0933 322.618 10.4533 322.351 9.76C322.111 9.04 322.005 8.32 322.031 7.6C322.058 6.93333 322.191 6.24 322.431 5.52C322.671 4.77333 323.045 4.09333 323.551 3.48C324.058 2.84 324.698 2.29333 325.471 1.84C326.271 1.38666 327.245 1.12 328.391 1.04C329.138 0.986665 329.858 1.06666 330.551 1.28C331.245 1.49333 331.858 1.81333 332.391 2.24C332.925 2.64 333.365 3.13333 333.711 3.72C334.085 4.30666 334.311 4.94667 334.391 5.64C334.525 6.84 334.418 7.94666 334.071 8.96C333.725 9.97333 333.205 10.8533 332.511 11.6C331.818 12.32 330.991 12.88 330.031 13.28C329.071 13.6533 328.071 13.8 327.031 13.72ZM325.071 7.4C325.045 7.77333 325.085 8.14666 325.191 8.52C325.325 8.89333 325.498 9.24 325.711 9.56C325.951 9.85333 326.218 10.1067 326.511 10.32C326.831 10.5333 327.178 10.6533 327.551 10.68C328.111 10.7333 328.631 10.6667 329.111 10.48C329.618 10.2667 330.045 9.97333 330.391 9.6C330.765 9.2 331.031 8.73333 331.191 8.2C331.378 7.66667 331.458 7.09333 331.431 6.48C331.378 5.65333 331.031 5.04 330.391 4.64C329.778 4.21333 329.085 4.02667 328.311 4.08C327.698 4.10666 327.191 4.24 326.791 4.48C326.391 4.69333 326.071 4.96 325.831 5.28C325.591 5.6 325.405 5.96 325.271 6.36C325.165 6.73333 325.098 7.08 325.071 7.4ZM341.071 35.52L341.511 38.28L324.511 40.68L323.271 38.28L332.911 30.84L323.311 32.28L322.751 31.2L331.871 24.08L322.511 25.84L321.951 23.12L328.391 21.96L328.831 18.8L312.431 21.48L312.031 18.36L345.511 13.32L345.991 15.96L332.031 18.24L331.351 21.4L335.951 20.56L337.071 22.8L329.351 29.2L338.551 27.76L339.151 29.48L329.231 37.04L341.071 35.52ZM379.951 20.04L377.591 37.56L374.471 37.08L378.231 4.48L381.991 4.72L380.431 16.36L387.671 14.16L388.671 17.44L379.951 20.04ZM370.391 10.28L372.551 13.44L366.551 31.68L363.191 30.68L368.831 13.64L361.591 13.36L361.911 10L370.391 10.28ZM360.431 12.48L362.631 15.64L357.631 29.08L354.391 28L358.871 16.04L350.911 16.8L350.631 13.36L360.431 12.48ZM395.831 30.08L399.111 33.4L395.791 36.72L392.471 33.44L395.831 30.08ZM411.847 30.08L415.127 33.4L411.807 36.72L408.487 33.44L411.847 30.08ZM429.303 20.72L429.783 27.92L426.143 28.24L425.263 19.56L433.623 11.72L425.303 6L427.703 2.92L437.343 9.76L437.143 13.56L429.303 20.72ZM428.063 30L432.063 32.84L429.223 36.88L425.183 34.08L428.063 30ZM443.503 12.36L444.863 3.76L448.423 4.28L446.383 12.8L443.503 12.36ZM449.503 12.44L452.143 3.76L455.543 4.48L452.303 13L449.503 12.44Z"
        fill="none"
        stroke="#f5f5f5"
        strokeWidth="2"
        strokeLinecap="round"
        vectorEffect="non-scaling-stroke"
      />
    </svg>
  );
}
export default SecondQ2;
