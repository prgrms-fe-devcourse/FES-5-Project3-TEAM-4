import { useEffect, useRef } from 'react';
import { DrawSVGPlugin } from 'gsap/DrawSVGPlugin';
import gsap from 'gsap';

gsap.registerPlugin(DrawSVGPlugin);

function Title() {
  const titleRef = useRef<SVGSVGElement | null>(null);
  const drawTween = useRef<gsap.core.Tween | null>(null);

  useEffect(() => {
    if (!titleRef.current) return;

    // 모든 path를 선택
    const paths = titleRef.current.querySelectorAll('path');

    drawTween.current = gsap.fromTo(
      paths,
      { drawSVG: '0% 0%', fill: 'transparent', fillOpacity: 0 },
      {
        duration: 1.5,
        stagger: 0.15,
        drawSVG: '0% 100%',
        fill: '#f5f5f5',
        fillOpacity: 1,
        ease: 'none',
        paused: true, // 처음에는 멈춘 상태
      }
    );
  }, []);

  return (
    <>
      <div>
        <svg
          ref={titleRef}
          width="292"
          height="88"
          viewBox="0 0 292 88"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10.5312 42.4688L8.28125 39.2812L16.3438 33.5L9.34375 31.3438L12.875 26.9688L18.7812 30.4375L21.8438 22.25H26.6875L21.8125 30.8125L30.6562 27.75L30.1875 32.0938L21.2812 33.9062L23.7812 40.2812L19.0938 42.4688L17.8125 35.3125L10.5312 42.4688Z"
            fill="none"
            stroke="#f5f5f5"
            strokeWidth="2"
            strokeLinecap="round"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M75.2188 32.9375C74.6979 32.9375 74.1042 32.8333 73.4375 32.625C72.7708 32.3958 72.4375 31.9271 72.4375 31.2188C72.4375 30.9479 72.5833 30.5625 72.875 30.0625C73.1875 29.5625 73.4896 29.0521 73.7812 28.5312C74.0729 27.9896 74.2188 27.5521 74.2188 27.2188C74.2188 26.5104 73.7188 25.9896 72.7188 25.6562C71.7188 25.3438 70.0417 25.1875 67.6875 25.1875C64.3333 25.3125 61.3438 25.5625 58.7188 25.9375C56.0938 26.3125 53.7083 26.8021 51.5625 27.4062C50.1667 27.8021 48.7917 28.2292 47.4375 28.6875C46.0833 29.125 44.7188 29.5938 43.3438 30.0938C42.6354 30.3646 41.9167 30.625 41.1875 30.875C40.4583 31.125 39.6979 31.3854 38.9062 31.6562L38.5 31.7812C38.2917 31.8229 38.1667 31.8438 38.125 31.8438C37.4792 31.8438 36.9375 31.5729 36.5 31.0312C36.0833 30.4688 35.875 29.8646 35.875 29.2188C35.875 28.4271 36.7917 27.5 38.625 26.4375C40.4792 25.375 42.9896 24.3333 46.1562 23.3125C49.2812 22.3333 52.75 21.5208 56.5625 20.875C60.375 20.2292 64.2083 19.9062 68.0625 19.9062C72.5208 19.9062 75.7917 20.5729 77.875 21.9062C79.9583 23.2396 81.0208 24.9271 81.0625 26.9688C81.0625 27.4896 80.8125 28.2292 80.3125 29.1875C79.8125 30.1458 79.125 31.0104 78.25 31.7812C77.375 32.5521 76.3646 32.9375 75.2188 32.9375ZM39 67.3125C38.3333 67.3125 37.7708 67.1354 37.3125 66.7812C36.8542 66.4479 36.625 65.9479 36.625 65.2812C36.625 65.0521 36.6458 64.8021 36.6875 64.5312C36.75 64.2396 36.8646 63.9271 37.0312 63.5938C38.6146 60.3229 40.1979 57.1771 41.7812 54.1562C43.3646 51.1354 44.8854 48.3125 46.3438 45.6875C47.0729 44.375 47.7812 43.125 48.4688 41.9375C49.1771 40.7292 49.8542 39.5833 50.5 38.5C52.4167 35.3542 54.0938 32.8542 55.5312 31C56.9688 29.125 57.9583 28.1875 58.5 28.1875C59.2292 28.1875 59.7708 28.3958 60.125 28.8125C60.4792 29.2292 60.6562 29.7188 60.6562 30.2812C60.6562 30.6979 60.5417 31.1562 60.3125 31.6562L51.8438 49.0312C50.9271 50.9479 49.9688 52.9167 48.9688 54.9375C47.9688 56.9375 47.0625 58.7292 46.25 60.3125C45.4583 61.875 44.8854 62.9479 44.5312 63.5312C43.9062 64.8021 43.0625 65.75 42 66.375C40.9583 67 39.9583 67.3125 39 67.3125Z"
            fill="none"
            stroke="#f5f5f5"
            strokeWidth="2"
            strokeLinecap="round"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M70.3125 66.1875C69.1042 66.1875 68.2812 65.8646 67.8438 65.2188C67.4271 64.5729 67.2188 63.9167 67.2188 63.25C67.2188 62.1875 67.5 61.1458 68.0625 60.125L72.1875 53.1875C72.4583 52.7708 72.8854 52 73.4688 50.875C74.0521 49.7292 74.75 48.4375 75.5625 47C76.4792 45.3958 77.5208 43.6146 78.6875 41.6562C79.875 39.6979 81.1667 37.7083 82.5625 35.6875C83.9375 33.6875 85.3958 31.7396 86.9375 29.8438C88.5 27.9271 90.1042 26.2396 91.75 24.7812C93.375 23.3021 95.0208 22.125 96.6875 21.25C98.3542 20.375 100.01 19.9375 101.656 19.9375C103.198 19.9375 104.708 20.4167 106.188 21.375C107.688 22.3333 109.115 23.9062 110.469 26.0938C110.615 26.3646 110.688 26.6146 110.688 26.8438C110.688 27.3854 110.427 27.8958 109.906 28.375C109.385 28.8333 108.812 29.0625 108.188 29.0625C107.812 29.0625 107.375 28.9792 106.875 28.8125C106.396 28.6458 105.938 28.2917 105.5 27.75C104.854 27 104.177 26.4583 103.469 26.125C102.781 25.7708 102.094 25.5938 101.406 25.5938C100.135 25.5938 98.8125 26.0625 97.4375 27C96.0625 27.9167 94.6875 29.1562 93.3125 30.7188C91.9375 32.2812 90.5938 34 89.2812 35.875C88.3229 37.25 87.3958 38.6562 86.5 40.0938C85.6042 41.5312 84.7604 42.9062 83.9688 44.2188C83.2188 45.4688 82.5104 46.6562 81.8438 47.7812C81.1771 48.9062 80.5833 49.8542 80.0625 50.625H85.7812L95.4375 49.9062L98.5 42.875L102.562 33.75C102.833 32.9583 103.229 32.3958 103.75 32.0625C104.292 31.7292 104.865 31.5625 105.469 31.5625C106.115 31.5625 106.719 31.7604 107.281 32.1562C107.844 32.5312 108.146 33.1354 108.188 33.9688C108.188 34.5521 107.812 35.7708 107.062 37.625C106.333 39.4583 105.51 41.4375 104.594 43.5625C103.635 45.7917 102.667 48.0729 101.688 50.4062C100.729 52.7188 100.042 54.6146 99.625 56.0938C99.5208 56.4896 99.4062 56.9479 99.2812 57.4688C99.1771 57.9688 99.125 58.4479 99.125 58.9062C99.125 59.3229 99.1875 59.6771 99.3125 59.9688C99.4375 60.2604 99.7083 60.4062 100.125 60.4062C100.979 60.4062 102.062 59.9688 103.375 59.0938C104.688 58.2188 106.042 57.125 107.438 55.8125C108.917 54.4583 110.333 53.0521 111.688 51.5938C113.062 50.1354 114.25 48.7812 115.25 47.5312L116.406 51.6875C115.031 53.5208 113.615 55.2812 112.156 56.9688C110.698 58.6562 109.219 60.1458 107.719 61.4375C106.198 62.7292 104.677 63.7604 103.156 64.5312C101.635 65.3021 100.125 65.6875 98.625 65.6875C96.8542 65.6875 95.6042 65.1562 94.875 64.0938C94.1667 63.0312 93.8125 61.8021 93.8125 60.4062C93.8125 59.5312 93.8542 58.6875 93.9375 57.875C94.0208 57.0417 94.0625 56.2188 94.0625 55.4062L77.8125 56.1562C77.375 57.1146 76.9375 58.0104 76.5 58.8438C76.0625 59.6771 75.6354 60.4583 75.2188 61.1875C74.4479 62.4583 73.6354 63.6146 72.7812 64.6562C71.9271 65.6771 71.1042 66.1875 70.3125 66.1875Z"
            fill="none"
            stroke="#f5f5f5"
            strokeWidth="2"
            strokeLinecap="round"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M123.062 66.1875C121.75 66.1875 120.885 65.8229 120.469 65.0938C120.052 64.3646 119.844 63.6667 119.844 63C119.844 61.9792 120.083 61.0208 120.562 60.125L129.781 43.25C130.573 41.8333 131.365 40.4688 132.156 39.1562C132.969 37.8229 133.76 36.6458 134.531 35.625C135.281 34.6042 135.99 33.7917 136.656 33.1875C137.344 32.5625 137.958 32.25 138.5 32.25C138.854 32.25 139.229 32.375 139.625 32.625C140.021 32.875 140.219 33.3958 140.219 34.1875C140.219 34.5833 140.104 35.1354 139.875 35.8438C139.646 36.5521 139.344 37.3646 138.969 38.2812C138.594 39.1979 138.156 40.2083 137.656 41.3125C137.156 42.3958 136.635 43.5104 136.094 44.6562L136.5 44.6875H136.906C138.719 44.6875 140.417 44.3125 142 43.5625C143.604 42.7917 145.021 41.7917 146.25 40.5625C147.479 39.3333 148.438 37.9896 149.125 36.5312C149.833 35.0521 150.188 33.6042 150.188 32.1875C150.188 31.1875 150.01 30.2396 149.656 29.3438C149.302 28.4479 148.729 27.6667 147.938 27C147.167 26.3333 146.167 25.8021 144.938 25.4062C143.708 25.0104 142.25 24.8125 140.562 24.8125C138.667 24.8125 137.031 24.9896 135.656 25.3438C134.302 25.6979 133.135 26.1562 132.156 26.7188C131.156 27.2812 130.312 27.9271 129.625 28.6562C128.958 29.3854 128.385 30.1354 127.906 30.9062C127.344 31.8021 126.802 32.7188 126.281 33.6562C125.76 34.5938 125.167 35.3854 124.5 36.0312C123.833 36.6771 122.99 37 121.969 37C119.885 37 118.844 35.9896 118.844 33.9688C118.844 32.6146 119.385 31.125 120.469 29.5C121.552 27.875 123.062 26.3438 125 24.9062C126.979 23.4479 129.344 22.25 132.094 21.3125C134.844 20.375 137.792 19.9062 140.938 19.9062C143.812 19.9062 146.479 20.3958 148.938 21.375C151.396 22.3333 153.375 23.7708 154.875 25.6875C156.375 27.6042 157.125 30 157.125 32.875C157.125 35 156.562 37.0104 155.438 38.9062C154.312 40.8021 152.854 42.4792 151.062 43.9375C149.292 45.375 147.333 46.5833 145.188 47.5625C143.042 48.5417 140.948 49.2083 138.906 49.5625C139.094 50.5 139.396 51.5729 139.812 52.7812C140.229 53.9896 140.74 55.1667 141.344 56.3125C141.969 57.4375 142.656 58.3854 143.406 59.1562C144.177 59.9062 144.979 60.3125 145.812 60.375L146.281 60.4062H146.719C148.24 60.4062 149.594 60.1562 150.781 59.6562C151.969 59.1562 152.958 58.6042 153.75 58C154.667 57.3333 155.479 56.5312 156.188 55.5938C156.854 54.8646 157.51 54.5 158.156 54.5C158.573 54.5 158.927 54.6458 159.219 54.9375C159.51 55.2292 159.656 55.625 159.656 56.125C159.656 56.6042 159.5 57.1667 159.188 57.8125C158.896 58.4375 158.385 59.0938 157.656 59.7812C155.51 61.8021 153.406 63.2812 151.344 64.2188C149.302 65.1354 147.365 65.5938 145.531 65.5938C144.031 65.5938 142.646 65.1667 141.375 64.3125C140.104 63.4583 138.948 62.3021 137.906 60.8438C136.865 59.3854 135.917 57.6875 135.062 55.75C134.208 53.7917 133.448 51.7292 132.781 49.5625C132.302 50.6667 131.76 52.1042 131.156 53.875C130.573 55.625 129.823 57.5938 128.906 59.7812C128.156 61.5938 127.281 63.1146 126.281 64.3438C125.302 65.5729 124.229 66.1875 123.062 66.1875Z"
            fill="none"
            stroke="#f5f5f5"
            strokeWidth="2"
            strokeLinecap="round"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M180.438 65.7188C178.667 65.7188 176.938 65.4688 175.25 64.9688C173.562 64.4479 172.062 63.5938 170.75 62.4062C169.417 61.2396 168.344 59.6979 167.531 57.7812C166.74 55.8438 166.344 53.4688 166.344 50.6562C166.344 46.1771 167.312 42.0312 169.25 38.2188C171.188 34.4062 173.667 31.1458 176.688 28.4375C179.708 25.7083 182.938 23.6042 186.375 22.125C189.833 20.6458 193.083 19.9062 196.125 19.9062C198.583 19.9062 200.833 20.2812 202.875 21.0312C204.917 21.7812 206.615 22.9167 207.969 24.4375C209.344 25.9583 210.219 27.8958 210.594 30.25L210.625 30.5312V30.8125C210.625 31.625 210.385 32.25 209.906 32.6875C209.448 33.1042 208.948 33.3125 208.406 33.3125C207.802 33.3125 207.24 32.9896 206.719 32.3438C206.198 31.6979 205.698 30.7812 205.219 29.5938C204.448 28.1354 203.333 27.0729 201.875 26.4062C200.417 25.7396 198.771 25.4062 196.938 25.4062C194.562 25.4062 192.021 26.0417 189.312 27.3125C186.625 28.5625 184.104 30.3125 181.75 32.5625C179.396 34.8125 177.469 37.4271 175.969 40.4062C174.49 43.3646 173.75 46.5 173.75 49.8125C173.75 51.6667 173.979 53.2292 174.438 54.5C174.896 55.7708 175.5 56.8021 176.25 57.5938C177 58.3854 177.844 58.9583 178.781 59.3125C179.719 59.6667 180.667 59.8438 181.625 59.8438C184.5 59.8438 187.156 58.8229 189.594 56.7812C192.052 54.7188 194.021 51.7917 195.5 48C197 44.2083 197.75 39.7083 197.75 34.5V33.3125L197.719 32.125C197.719 31.0833 197.906 30.3229 198.281 29.8438C198.656 29.3438 199.083 29.0938 199.562 29.0938C200.646 29.0938 201.469 29.4792 202.031 30.25C202.594 31 202.979 31.9792 203.188 33.1875C203.417 34.3958 203.531 35.6667 203.531 37C203.531 41.1458 202.875 45 201.562 48.5625C200.271 52.125 198.521 55.1771 196.312 57.7188C194.104 60.2812 191.615 62.2604 188.844 63.6562C186.094 65.0312 183.292 65.7188 180.438 65.7188Z"
            fill="none"
            stroke="#f5f5f5"
            strokeWidth="2"
            strokeLinecap="round"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M254.219 32.9375C253.698 32.9375 253.104 32.8333 252.438 32.625C251.771 32.3958 251.438 31.9271 251.438 31.2188C251.438 30.9479 251.583 30.5625 251.875 30.0625C252.188 29.5625 252.49 29.0521 252.781 28.5312C253.073 27.9896 253.219 27.5521 253.219 27.2188C253.219 26.5104 252.719 25.9896 251.719 25.6562C250.719 25.3438 249.042 25.1875 246.688 25.1875C243.333 25.3125 240.344 25.5625 237.719 25.9375C235.094 26.3125 232.708 26.8021 230.562 27.4062C229.167 27.8021 227.792 28.2292 226.438 28.6875C225.083 29.125 223.719 29.5938 222.344 30.0938C221.635 30.3646 220.917 30.625 220.188 30.875C219.458 31.125 218.698 31.3854 217.906 31.6562L217.5 31.7812C217.292 31.8229 217.167 31.8438 217.125 31.8438C216.479 31.8438 215.938 31.5729 215.5 31.0312C215.083 30.4688 214.875 29.8646 214.875 29.2188C214.875 28.4271 215.792 27.5 217.625 26.4375C219.479 25.375 221.99 24.3333 225.156 23.3125C228.281 22.3333 231.75 21.5208 235.562 20.875C239.375 20.2292 243.208 19.9062 247.062 19.9062C251.521 19.9062 254.792 20.5729 256.875 21.9062C258.958 23.2396 260.021 24.9271 260.062 26.9688C260.062 27.4896 259.812 28.2292 259.312 29.1875C258.812 30.1458 258.125 31.0104 257.25 31.7812C256.375 32.5521 255.365 32.9375 254.219 32.9375ZM218 67.3125C217.333 67.3125 216.771 67.1354 216.312 66.7812C215.854 66.4479 215.625 65.9479 215.625 65.2812C215.625 65.0521 215.646 64.8021 215.688 64.5312C215.75 64.2396 215.865 63.9271 216.031 63.5938C217.615 60.3229 219.198 57.1771 220.781 54.1562C222.365 51.1354 223.885 48.3125 225.344 45.6875C226.073 44.375 226.781 43.125 227.469 41.9375C228.177 40.7292 228.854 39.5833 229.5 38.5C231.417 35.3542 233.094 32.8542 234.531 31C235.969 29.125 236.958 28.1875 237.5 28.1875C238.229 28.1875 238.771 28.3958 239.125 28.8125C239.479 29.2292 239.656 29.7188 239.656 30.2812C239.656 30.6979 239.542 31.1562 239.312 31.6562L230.844 49.0312C229.927 50.9479 228.969 52.9167 227.969 54.9375C226.969 56.9375 226.062 58.7292 225.25 60.3125C224.458 61.875 223.885 62.9479 223.531 63.5312C222.906 64.8021 222.062 65.75 221 66.375C219.958 67 218.958 67.3125 218 67.3125Z"
            fill="none"
            stroke="#f5f5f5"
            strokeWidth="2"
            strokeLinecap="round"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M266.312 65.9688C265.354 65.9688 264.875 65.7292 264.875 65.25L264.938 65L272.25 50.9062H264.188C263.583 52.0938 262.875 53.4896 262.062 55.0938C261.271 56.6771 260.427 58.3333 259.531 60.0625C258.656 61.7708 257.771 63.4167 256.875 65C256.688 65.3125 256.365 65.5417 255.906 65.6875C255.469 65.8333 255.01 65.9062 254.531 65.9062C253.573 65.9062 253.094 65.6875 253.094 65.25L253.156 65C253.656 63.9583 254.333 62.6042 255.188 60.9375C256.062 59.2708 256.979 57.5417 257.938 55.75C258.896 53.9375 259.74 52.3229 260.469 50.9062H253.438C253.104 50.9062 252.938 50.6979 252.938 50.2812C252.938 49.9688 253.042 49.5729 253.25 49.0938C253.458 48.5938 253.719 48.1562 254.031 47.7812C254.344 47.4062 254.646 47.2188 254.938 47.2188H262.375L266.562 39.2812H259.656C259.135 39.2812 258.875 39.0104 258.875 38.4688C258.875 37.9271 259.125 37.2917 259.625 36.5625C260.125 35.8125 260.604 35.4375 261.062 35.4375H268.469L275.375 22.25C275.542 21.9375 275.865 21.7083 276.344 21.5625C276.823 21.3958 277.302 21.3125 277.781 21.3125C278.76 21.3125 279.25 21.5521 279.25 22.0312C279.25 22.1562 279.24 22.2292 279.219 22.25C278.344 24.0833 277.271 26.1667 276 28.5C274.75 30.8333 273.521 33.1458 272.312 35.4375H280.375C281.417 33.3958 282.542 31.1875 283.75 28.8125C284.979 26.4167 286.115 24.2292 287.156 22.25C287.323 21.9375 287.635 21.6979 288.094 21.5312C288.573 21.3646 289.052 21.2812 289.531 21.2812C290.51 21.2812 291 21.5312 291 22.0312C291 22.1354 290.99 22.2083 290.969 22.25C290.01 24.1458 288.917 26.2604 287.688 28.5938C286.458 30.9271 285.26 33.2083 284.094 35.4375H290.5C291 35.4375 291.25 35.6875 291.25 36.1875C291.25 36.7708 290.979 37.4375 290.438 38.1875C289.896 38.9167 289.406 39.2812 288.969 39.2812H282.156L280.094 43.25L278 47.2188H284.375C284.875 47.2188 285.125 47.4792 285.125 48C285.125 48.5625 284.875 49.1875 284.375 49.875C283.875 50.5625 283.417 50.9062 283 50.9062H276.094C275.531 51.9896 274.812 53.3958 273.938 55.125C273.062 56.8542 272.156 58.6146 271.219 60.4062C270.302 62.1979 269.479 63.7292 268.75 65C268.583 65.3125 268.25 65.5521 267.75 65.7188C267.271 65.8854 266.792 65.9688 266.312 65.9688ZM266.219 47.2188H274.281L278.344 39.2812H270.281L266.219 47.2188Z"
            fill="none"
            stroke="#f5f5f5"
            strokeWidth="2"
            strokeLinecap="round"
            vectorEffect="non-scaling-stroke"
          />
        </svg>
      </div>
      <button
        type="button"
        className="text-main-white cursor-pointer"
        onClick={() => drawTween.current?.restart()}
      >
        start
      </button>
    </>
  );
}
export default Title;
